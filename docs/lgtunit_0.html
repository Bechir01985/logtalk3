<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<?xml-stylesheet href="logtalk.css" type="text/css"?><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>lgtunit</title>
    <link rel="stylesheet" href="logtalk.css" type="text/css"/>
  </head>
  <body>
    <div class="header">
      <p class="type">object</p>
      <h1 class="code">lgtunit</h1>
      <blockquote>
        <p class="comment">A simple unit test framework featuring predicate clause coverage.</p>
      </blockquote>
    </div>
    <div class="entity">
      <div class="section">
        <dl class="properties">
          <dt class="key">author:</dt>
          <dd class="value">
            <code>Paulo Moura</code>
          </dd>
          <dt class="key">version:</dt>
          <dd class="value">
            <code>2.0</code>
          </dd>
          <dt class="key">date:</dt>
          <dd class="value">
            <code>2014/11/5</code>
          </dd>
        </dl>
        <dl class="properties">
          <dt class="key">compilation flags:</dt>
          <dd class="value">
            <code>static, context_switching_calls</code>
          </dd>
        </dl>
        <dl class="relations">
          <dt class="key">implements:</dt>
          <dd class="value">
            <code>public <a href="expanding_0.html">expanding</a></code>
          </dd>
          <dt class="key">provides:</dt>
          <dd class="value">
            <code>
              <a href="logtalk_0.html#trace_event/2">logtalk::trace_event/2</a>
            </code>
          </dd>
        </dl>
      </div>
    </div>
    <div class="predicates">
      <div class="public">
        <h2>Public interface</h2>
        <div class="section">
          <h3 id="cover/1" class="code">cover/1</h3>
          <blockquote>
            <p class="comment">Declares entities being tested for which code coverage information should be collected.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>cover(Entity)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>cover(?entity_identifier) &ndash; zero_or_more</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="run/2" class="code">run/2</h3>
          <blockquote>
            <p class="comment">Runs the unit tests, writing the results to the specified file. Mode can be either "write" (to create a new file) or "append" (to add results to an existing file).</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>run(File,Mode)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>run(+atom,+atom) &ndash; one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="run/0" class="code">run/0</h3>
          <blockquote>
            <p class="comment">Runs the unit tests, writing the results to the current output stream.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>run &ndash; one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="deterministic/1" class="code">deterministic/1</h3>
          <blockquote>
            <p class="comment">True if a goal succeeds once without leaving choice-points.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>deterministic(Goal)</code>
            </dd>
            <dt class="key">meta-predicate template:</dt>
            <dd class="value">
              <code>deterministic(0)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>deterministic(+callable) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="=~= / 2" class="code">=~= / 2</h3>
          <blockquote>
            <p class="comment">Compares two floats for approximate equality using 100*epsilon for the absolute error and, if that fails, 99.999% accuracy for the relative error. Handy when writing certain unit tests but the default precision values may not be adequate for all cases.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>=~=(Float1,Float2)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>=~=(+float,+float) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
      </div>
      <div class="protected">
        <h2>Protected interface</h2>
        <div class="section">
          <h3 id="run_tests/0" class="code">run_tests/0</h3>
          <blockquote>
            <p class="comment">Runs all defined unit tests.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>run_tests &ndash; one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="run_tests/2" class="code">run_tests/2</h3>
          <blockquote>
            <p class="comment">Runs a list of defined tests.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>run_tests(Tests,File)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>run_tests(+list(callable),+atom) &ndash; one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="setup/0" class="code">setup/0</h3>
          <blockquote>
            <p class="comment">Setup environment before running the test set. Defaults to the goal true.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>setup &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="cleanup/0" class="code">cleanup/0</h3>
          <blockquote>
            <p class="comment">Cleanup environment after running the test set. Defaults to the goal true.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>cleanup &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="set_text_output/2" class="code">set_text_output/2</h3>
          <blockquote>
            <p class="comment">Creates a temporary file (referenced with the given alias) with the given text contents and sets the current output stream to the file.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>set_text_output(Alias,Contents)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>set_text_output(+atom,+atom) &ndash; one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="set_text_output/1" class="code">set_text_output/1</h3>
          <blockquote>
            <p class="comment">Creates a temporary file with the given text contents and sets the current output stream to the file.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>set_text_output(Contents)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>set_text_output(+atom) &ndash; one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="check_text_output/2" class="code">check_text_output/2</h3>
          <blockquote>
            <p class="comment">Checks that the temporary file being written have the expected text contents.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>check_text_output(Alias,Contents)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>check_text_output(+atom,+atom) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="check_text_output/1" class="code">check_text_output/1</h3>
          <blockquote>
            <p class="comment">Checks that the temporary file being written have the expected text contents.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>check_text_output(Contents)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>check_text_output(+atom) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="set_binary_output/2" class="code">set_binary_output/2</h3>
          <blockquote>
            <p class="comment">Creates a temporary file (referenced with the given alias) with the given binary contents and sets the current output stream to the file.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>set_binary_output(Alias,Bytes)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>set_binary_output(+atom,+list(byte)) &ndash; one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="set_binary_output/1" class="code">set_binary_output/1</h3>
          <blockquote>
            <p class="comment">Creates a temporary file with the given binary contents and sets the current output stream to the file.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>set_binary_output(Bytes)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>set_binary_output(+list(byte)) &ndash; one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="check_binary_output/2" class="code">check_binary_output/2</h3>
          <blockquote>
            <p class="comment">Checks that the temporary file (referenced with the given alias) have the expected binary contents.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>check_binary_output(Alias,Bytes)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>check_binary_output(+atom,+list(byte)) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="check_binary_output/1" class="code">check_binary_output/1</h3>
          <blockquote>
            <p class="comment">Checks that the temporary file have the expected binary contents.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>check_binary_output(Bytes)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>check_binary_output(+list(byte)) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="closed_input_stream/2" class="code">closed_input_stream/2</h3>
          <blockquote>
            <p class="comment">Opens a temporary file with the given options for reading, closes it, and returns its stream handle.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>closed_input_stream(Stream,Options)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>closed_input_stream(-stream,+list(stream_option)) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="closed_output_stream/2" class="code">closed_output_stream/2</h3>
          <blockquote>
            <p class="comment">Opens a temporary file with the given options for writing, closes it, and returns its stream handle.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>closed_output_stream(Stream,Options)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>closed_output_stream(-stream,+list(stream_option)) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="stream_position/1" class="code">stream_position/1</h3>
          <blockquote>
            <p class="comment">Returns a valid stream position.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>stream_position(Position)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>stream_position(-stream_position) &ndash; one</code>
            </dd>
          </dl>
        </div>
      </div>
      <div class="private">
        <h2>Private predicates</h2>
        <div class="section">
          <h3 id="test/2" class="code">test/2</h3>
          <blockquote>
            <p class="comment">Specifies a unit test.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>static</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>test(Identifier,Outcome)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>test(?atom,?nonvar) &ndash; zero_or_more</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="test_/1" class="code">test_/1</h3>
          <blockquote>
            <p class="comment">Table of defined tests.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>dynamic</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>test_(Test)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>test_(?compound) &ndash; zero_or_more</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="skipped_/1" class="code">skipped_/1</h3>
          <blockquote>
            <p class="comment">Counter for skipped tests.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>dynamic</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>skipped_(Counter)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>skipped_(?integer) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="passed_/1" class="code">passed_/1</h3>
          <blockquote>
            <p class="comment">Counter for passed tests.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>dynamic</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>passed_(Counter)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>passed_(?integer) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="failed_/1" class="code">failed_/1</h3>
          <blockquote>
            <p class="comment">Counter for failed tests.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>dynamic</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>failed_(Counter)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>failed_(?callable) &ndash; zero_or_one</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="fired_/3" class="code">fired_/3</h3>
          <blockquote>
            <p class="comment">Fired clauses when running the unit tests.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>dynamic</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>fired_(Entity,Predicate,Clause)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>fired_(?entity_identifier,?predicate_indicator,?integer) &ndash; zero_or_more</code>
            </dd>
          </dl>
        </div>
        <div class="section">
          <h3 id="covered_/2" class="code">covered_/2</h3>
          <blockquote>
            <p class="comment">Auxiliary predicate for collecting statistics on clause coverage.</p>
          </blockquote>
          <dl class="properties">
            <dt class="key">compilation flags:</dt>
            <dd class="value">
              <code>dynamic</code>
            </dd>
            <dt class="key">template:</dt>
            <dd class="value">
              <code>covered_(Covered,Total)</code>
            </dd>
            <dt class="key">mode &ndash; number of proofs:</dt>
            <dd class="value">
              <code>covered_(?integer,?integer) &ndash; zero_or_more</code>
            </dd>
          </dl>
        </div>
      </div>
    </div>
    <div class="operators">
      <h2>Operators</h2>
      <div class="section">
        <h3 class="code">op(700,xfx,=~=) (public)</h3>
      </div>
    </div>
    <div class="remarks">
      <h2>Remarks</h2>
      <div class="section">
        <h3 class="comment">(none)</h3>
      </div>
    </div>
  </body>
</html>
