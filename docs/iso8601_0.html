

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>iso8601 &mdash; Logtalk APIs v3.21.0-b01 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lgtdoc" href="lgtdoc_0.html" />
    <link rel="prev" title="help" href="help_0.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Logtalk APIs
          

          
          </a>

          
            
            
              <div class="version">
                3.21.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="library_index.html">Library index</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="library_index.html#assertions"><code class="docutils literal notranslate"><span class="pre">assertions</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#code-metrics"><code class="docutils literal notranslate"><span class="pre">code_metrics</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#core"><code class="docutils literal notranslate"><span class="pre">core</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#dead-code-scanner"><code class="docutils literal notranslate"><span class="pre">dead_code_scanner</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#debugger"><code class="docutils literal notranslate"><span class="pre">debugger</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#diagrams"><code class="docutils literal notranslate"><span class="pre">diagrams</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#doclet"><code class="docutils literal notranslate"><span class="pre">doclet</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#flags"><code class="docutils literal notranslate"><span class="pre">flags</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#help"><code class="docutils literal notranslate"><span class="pre">help</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="library_index.html#iso8601"><code class="docutils literal notranslate"><span class="pre">iso8601</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">iso8601</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#public-interface">Public interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#protected-interface">Protected interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="#private-predicates">Private predicates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operators">Operators</a></li>
<li class="toctree-l4"><a class="reference internal" href="#remarks">Remarks</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#lgtdoc"><code class="docutils literal notranslate"><span class="pre">lgtdoc</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#lgtunit"><code class="docutils literal notranslate"><span class="pre">lgtunit</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#library"><code class="docutils literal notranslate"><span class="pre">library</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#pddl-parser"><code class="docutils literal notranslate"><span class="pre">pddl_parser</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#ports"><code class="docutils literal notranslate"><span class="pre">ports</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#verdi-neruda"><code class="docutils literal notranslate"><span class="pre">verdi_neruda</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#wrapper"><code class="docutils literal notranslate"><span class="pre">wrapper</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="library_index.html#xml-parser"><code class="docutils literal notranslate"><span class="pre">xml_parser</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="directory_index.html">Directory index</a></li>
<li class="toctree-l1"><a class="reference internal" href="entity_index.html">Entity index</a></li>
<li class="toctree-l1"><a class="reference internal" href="predicate_index.html">Predicate index</a></li>
</ul>

            
          
    <a href="core_inheritance_diagram.svg">Core diagram</a>
    <a href="library_inheritance_diagram.svg">Library diagram</a>
    <a href="tools_inheritance_diagram.svg">Tools diagram</a>
    <a href="genindex.html">Index</a>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Logtalk APIs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="library_index.html">Library index</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">iso8601</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/iso8601_0.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p id="iso8601-0"><span id="index-0"></span><strong>object</strong></p>
<div class="section" id="iso8601">
<h1><code class="docutils literal notranslate"><span class="pre">iso8601</span></code><a class="headerlink" href="#iso8601" title="Permalink to this headline">¶</a></h1>
<p>ISO 8601 (and European civil calendar) compliant library of date predicates.</p>
<ul class="simple">
<li>author: Daniel L. Dudley</li>
<li>version: 1.02</li>
<li>date: 2014/11/3</li>
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static,</span> <span class="pre">context_switching_calls</span></code></li>
</ul>
<p>(no dependencies on other entities)</p>
<div class="section" id="public-interface">
<h2>Public interface<a class="headerlink" href="#public-interface" title="Permalink to this headline">¶</a></h2>
<div id="date/4"> </div><div class="section" id="date-4">
<span id="iso8601-0-date-4"></span><span id="index-1"></span><h3><code class="docutils literal notranslate"><span class="pre">date/4</span></code><a class="headerlink" href="#date-4" title="Permalink to this headline">¶</a></h3>
<p>Get the system date and/or its Julian Day # or convert a Julian Day # to/from given date parts.</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">date(JD,Year,Month,Day)</span></code><ul>
<li><code class="docutils literal notranslate"><span class="pre">JD</span></code> - Julian day serial number</li>
<li><code class="docutils literal notranslate"><span class="pre">Year</span></code> - 0 or negative if converted BC year, positive otherwise</li>
<li><code class="docutils literal notranslate"><span class="pre">Month</span></code> - Normally an integer between 1 and 12 inclusive</li>
<li><code class="docutils literal notranslate"><span class="pre">Day</span></code> - Normally an integer between 1 and 31 inclusive depending upon month</li>
</ul>
</li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(?integer,?integer,?integer,?integer)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>Current date (i.e., today)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,Year,Month,Day)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2453471,Year=2005,Month=4,Day=10</span></code></li>
</ul>
</li>
<li>Convert a date to its Julian day number<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2000,2,29)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2451604</span></code></li>
</ul>
</li>
<li>Convert a Julian day number to its date<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(2451604,Year,Month,Day)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2000,Month=2,Day=29</span></code></li>
</ul>
</li>
<li>What is the date of day # 60 in year 2000?<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2000,1,60)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2451604</span></code></li>
</ul>
</li>
<li>What is the Julian of the 1st day prior to 2000-1-1?<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2000,1,0)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2451544</span></code></li>
</ul>
</li>
<li>What is the Julian of the 60th day prior to 2000-1-1?<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2000,1,-59)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2451485</span></code></li>
</ul>
</li>
<li>Illegal date is auto-adjusted (see also next query)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,1900,2,29)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2415080</span></code></li>
</ul>
</li>
<li>This is the correct date!<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(2415080,Year,Month,Day)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=1900,Month=3,Day=1</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="date/5"> </div></div>
<div class="section" id="date-5">
<span id="iso8601-0-date-5"></span><span id="index-2"></span><h3><code class="docutils literal notranslate"><span class="pre">date/5</span></code><a class="headerlink" href="#date-5" title="Permalink to this headline">¶</a></h3>
<p>Ditto date/4 + get/check its day-of-week #.</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">date(JD,Year,Month,Day,DoW)</span></code><ul>
<li><code class="docutils literal notranslate"><span class="pre">JD</span></code> - Julian day serial number</li>
<li><code class="docutils literal notranslate"><span class="pre">Year</span></code> - 0 or negative if converted BC year, positive otherwise</li>
<li><code class="docutils literal notranslate"><span class="pre">Month</span></code> - Normally an integer between 1 and 12 inclusive</li>
<li><code class="docutils literal notranslate"><span class="pre">Day</span></code> - Normally an integer between 1 and 31 inclusive depending upon month</li>
<li><code class="docutils literal notranslate"><span class="pre">DoW</span></code> - Day of week, where Monday=1, Tuesday=2, …, Sunday=7</li>
</ul>
</li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(?integer,?integer,?integer,?integer,?integer)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>Get the Julian and the day-of-week # of a date<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2000,2,29,DoW)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2451604,DoW=2</span></code></li>
</ul>
</li>
<li>Check the validity of a given date (day-of-week is 2, not 4)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,2002,3,5,4)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">no</span></code></li>
</ul>
</li>
<li>Get the Julian day of a given date if it is a Sunday<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2004,2,29,7)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2453065</span></code></li>
</ul>
</li>
<li>Get the date and day-of-week # of a Julian<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(2451545,Year,Month,Day,DoW)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2000,Month=1,Day=1,DoW=6</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="date/6"> </div></div>
<div class="section" id="date-6">
<span id="iso8601-0-date-6"></span><span id="index-3"></span><h3><code class="docutils literal notranslate"><span class="pre">date/6</span></code><a class="headerlink" href="#date-6" title="Permalink to this headline">¶</a></h3>
<p>Ditto date/5 + get/check its week #.</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">date(JD,Year,Month,Day,DoW,Week)</span></code><ul>
<li><code class="docutils literal notranslate"><span class="pre">JD</span></code> - Julian day serial number</li>
<li><code class="docutils literal notranslate"><span class="pre">Year</span></code> - 0 or negative if converted BC year, positive otherwise</li>
<li><code class="docutils literal notranslate"><span class="pre">Month</span></code> - Normally an integer between 1 and 12 inclusive</li>
<li><code class="docutils literal notranslate"><span class="pre">Day</span></code> - Normally an integer between 1 and 31 inclusive depending upon month</li>
<li><code class="docutils literal notranslate"><span class="pre">DoW</span></code> - Day of week, where Monday=1, Tuesday=2, …, Sunday=7</li>
<li><code class="docutils literal notranslate"><span class="pre">Week</span></code> - Compound term, week(WeekNo,ActualYear), of a day</li>
</ul>
</li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(?integer,?integer,?integer,?integer,?integer,?compound)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>Get the day-of-week and week number of a date<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,2000,1,1,DoW,Week)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">DoW=6,Week=week(52,1999)</span></code></li>
</ul>
</li>
<li>Get the week number and year of this week<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,_,_,_,_,Week)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Week=week(7,2004)</span></code></li>
</ul>
</li>
<li>Get the Julian number and the week of a date if it is a Sunday<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2004,2,29,7,Week)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2453065,Week=week(9,2004)</span></code></li>
</ul>
</li>
<li>Get the day-of-week and week of a Julian day number<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(2453066,_,_,_,DoW,Week)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">DoW=1,Week=week(10,2004)</span></code></li>
</ul>
</li>
<li>Check that given date data matches<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,2004,3,1,1,week(10,2004))</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
<li>What is the date of a day of week (default is 1) in given week # and year?<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,Year,Month,Day,DoW,week(26,2004))</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2004,Month=6,Day=21,DoW=1</span></code></li>
</ul>
</li>
<li>Ditto for Sunday<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,Year,Month,Day,7,week(1,2005))</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2005,Month=1,Day=9</span></code></li>
</ul>
</li>
<li>Ditto for Tuesday in following week<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,Year,Month,Day,9,week(1,2005))</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2005,Month=1,Day=11</span></code></li>
</ul>
</li>
<li>Ditto for Thursday in the prior week<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,Year,Month,Day,4,week(0,2005))</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2004,Month=12,Day=30</span></code></li>
</ul>
</li>
<li>Ditto for Tuesday two weeks prior<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,Year,Month,Day,2,week(-1,2005))</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2004,Month=12,Day=21</span></code></li>
</ul>
</li>
<li>Ditto for Saturday<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,Year,Month,Day,6,week(53,2004))</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2005,Month=1,Day=1</span></code></li>
</ul>
</li>
<li>Ditto for Monday (note automatic compensation of nonexistent week number)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,Year,Month,Day,1,week(60,2004))</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2005,Month=2,Day=14</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="date/7"> </div></div>
<div class="section" id="date-7">
<span id="iso8601-0-date-7"></span><span id="index-4"></span><h3><code class="docutils literal notranslate"><span class="pre">date/7</span></code><a class="headerlink" href="#date-7" title="Permalink to this headline">¶</a></h3>
<p>Ditto date/6 + get/check its day-of-year #.</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">date(JD,Year,Month,Day,DoW,Week,DoY)</span></code><ul>
<li><code class="docutils literal notranslate"><span class="pre">JD</span></code> - Julian day serial number</li>
<li><code class="docutils literal notranslate"><span class="pre">Year</span></code> - 0 or negative if converted BC year, positive otherwise</li>
<li><code class="docutils literal notranslate"><span class="pre">Month</span></code> - Normally an integer between 1 and 12 inclusive</li>
<li><code class="docutils literal notranslate"><span class="pre">Day</span></code> - Normally an integer between 1 and 31 inclusive depending upon month</li>
<li><code class="docutils literal notranslate"><span class="pre">DoW</span></code> - Day of week, where Monday=1, Tuesday=2, …, Sunday=7</li>
<li><code class="docutils literal notranslate"><span class="pre">Week</span></code> - Compound term, week(WeekNo,ActualYear), of a day</li>
<li><code class="docutils literal notranslate"><span class="pre">DoY</span></code> - Day of year (NB! calendar year, not week # year)</li>
</ul>
</li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(?integer,?integer,?integer,?integer,?integer,?compound,?integer)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>Get the date and day-of-year of a Julian number<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(2451649,Year,Month,Day,_,_,DoY)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2000,Month=4,Day=14,DoY=105</span></code></li>
</ul>
</li>
<li>Get the Julian number, week number and day-of-year of a date, confirming that it is a Sunday<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2004,2,29,7,Week,DoY)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2453065,Week=week(9,2004),DoY=60</span></code></li>
</ul>
</li>
<li>Confirm that a date is, in fact, a specific day-of-year<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,2004,3,1,_,_,61)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
<li>Get the Julian number, week day and day-of-year of a date<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(JD,2004,10,18,DoW,_,DoY)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">JD=2453297,DoW=1,DoY=292</span></code></li>
</ul>
</li>
<li>Get today’s day-of-year<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,_,_,_,_,_,DoY)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">DoY=54</span></code></li>
</ul>
</li>
<li>Get all missing date data (excl. Julian number) for the 60th calendar day of 2004<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,2004,Month,Day,DoW,Week,60)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Month=2,Day=29,DoW=7,Week=week(9,2004)</span></code></li>
</ul>
</li>
<li>Match given date data and, if true, return the missing data (excl. Julian number)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,2004,3,Day,DoW,Week,61)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Day=1,DoW=1,Week=week(10,2004)</span></code></li>
</ul>
</li>
<li>Ditto (the 61st day-of-year cannot be both day 1 and 2 of the month)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date(_,2004,_,2,_,_,61)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">no</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="date_string/3"> </div></div>
<div class="section" id="date-string-3">
<span id="iso8601-0-date-string-3"></span><span id="index-5"></span><h3><code class="docutils literal notranslate"><span class="pre">date_string/3</span></code><a class="headerlink" href="#date-string-3" title="Permalink to this headline">¶</a></h3>
<p>Conversion between an ISO 8601 compliant date string and its components (truncated and expanded date representations are currently unsupported). Note that date components are not validated; that is the caller’s responsibility!</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">date_string(Format,Components,String)</span></code><ul>
<li><code class="docutils literal notranslate"><span class="pre">Format</span></code> - ISO 8601 format</li>
<li><code class="docutils literal notranslate"><span class="pre">Components</span></code> - When bound and String is free, either a Julian number or a [Year,Month,Day] term; it binds to the system day/date if free When free and String is bound, it binds to an integer list representing the numeric elements of String</li>
<li><code class="docutils literal notranslate"><span class="pre">String</span></code> - ISO 8601 formatted string correspondent to Components</li>
</ul>
</li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string(+atom,+integer,?atom)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">date_string(+atom,?list,?atom)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>Date, complete, basic (section 5.2.1.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYYMMDD',[2004,2,29],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='20040229'</span></code></li>
</ul>
</li>
<li>Date, complete, basic (section 5.2.1.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYYMMDD',Components,'20040229')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2004,2,29]</span></code></li>
</ul>
</li>
<li>Date, complete, extended (section 5.2.1.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-MM-DD',[2003,12,16],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='2003-12-16'</span></code></li>
</ul>
</li>
<li>Date, complete, extended (section 5.2.1.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-MM-DD',Components,'2003-12-16')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2003,12,16]</span></code></li>
</ul>
</li>
<li>Date, complete, extended (section 5.2.1.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-MM-DD',_,String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='2004-02-17'</span></code></li>
</ul>
</li>
<li>Date, complete, extended (section 5.2.1.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-MM-DD',Components,'2004-02-17')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2004,2,17]</span></code></li>
</ul>
</li>
<li>Date, reduced, month (section 5.2.1.2 a)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-MM',[2004,9,18],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='2004-09'</span></code></li>
</ul>
</li>
<li>Date, reduced, month (section 5.2.1.2 a)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-MM',Components,'2004-09')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2004,9]</span></code></li>
</ul>
</li>
<li>Date, reduced, year (section 5.2.1.2 b)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY',[1900,7,24],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='1900'</span></code></li>
</ul>
</li>
<li>Date, reduced, year (section 5.2.1.2 b)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY',Components,'1900')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[1900]</span></code></li>
</ul>
</li>
<li>Date, reduced, century (section 5.2.1.2 c)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YY',2456557,String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='20'</span></code></li>
</ul>
</li>
<li>Date, reduced, century (section 5.2.1.2 c)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YY',Components,'20')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[20]</span></code></li>
</ul>
</li>
<li>Date, ordinal, complete (section 5.2.2.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYYDDD',[2005,3,25],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='2005084'</span></code></li>
</ul>
</li>
<li>Date, ordinal, complete (section 5.2.2.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYYDDD',Components,'2005084')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2005,84]</span></code></li>
</ul>
</li>
<li>Date, ordinal, extended (section 5.2.2.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-DDD',[1854,12,4],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='1854-338'</span></code></li>
</ul>
</li>
<li>Date, ordinal, extended (section 5.2.2.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-DDD',Components,'1854-338')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[1854,338]</span></code></li>
</ul>
</li>
<li>Week, complete, basic (section 5.2.3.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYYWwwD',[2000,1,2],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='1999W527'</span></code></li>
</ul>
</li>
<li>Week, complete, basic (section 5.2.3.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYYWwwD',Components,'1999W527')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[1999,52,7]</span></code></li>
</ul>
</li>
<li>Week, complete, extended (section 5.2.3.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-Www-D',[2003,12,29],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='2004-W01-1'</span></code></li>
</ul>
</li>
<li>Week, complete, extended (section 5.2.3.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-Www-D',Components,'2004-W01-1')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2004,1,1]</span></code></li>
</ul>
</li>
<li>Week, complete, extended (section 5.2.3.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-Www-D',2453167,String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='2004-W24-4'</span></code></li>
</ul>
</li>
<li>Week, complete, extended (section 5.2.3.1)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-Www-D',Components,'2004-W24-4')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2004,24,4]</span></code></li>
</ul>
</li>
<li>Week, reduced, basic (section 5.2.3.2)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYYWww',[2004,2,29],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='2004W09'</span></code></li>
</ul>
</li>
<li>Week, reduced, basic (section 5.2.3.2)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYYWww',Components,'2004W09')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2004,9]</span></code></li>
</ul>
</li>
<li>Week, reduced, extended (section 5.2.3.2)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-Www',[2004,2,29],String)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">String='2004-W09'</span></code></li>
</ul>
</li>
<li>Week, reduced, extended (section 5.2.3.2)<ul>
<li><code class="docutils literal notranslate"><span class="pre">date_string('YYYY-Www',Components,'2004-W09')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Components=[2004,9]</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="valid_date/3"> </div></div>
<div class="section" id="valid-date-3">
<span id="iso8601-0-valid-date-3"></span><span id="index-6"></span><h3><code class="docutils literal notranslate"><span class="pre">valid_date/3</span></code><a class="headerlink" href="#valid-date-3" title="Permalink to this headline">¶</a></h3>
<p>Validate a given date in the Gregorian calendar.</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">valid_date(Year,Month,Day)</span></code></li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">valid_date(+integer,+integer,+integer)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>Yes, the recent millenium was a leap year<ul>
<li><code class="docutils literal notranslate"><span class="pre">valid_date(2000,2,29)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
<li>2004 was also a leap year<ul>
<li><code class="docutils literal notranslate"><span class="pre">valid_date(2004,2,29)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
<li>Only 30 days in April<ul>
<li><code class="docutils literal notranslate"><span class="pre">valid_date(2004,4,31)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">no</span></code></li>
</ul>
</li>
<li>1 BC was a leap year<ul>
<li><code class="docutils literal notranslate"><span class="pre">valid_date(-1,2,29)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="leap_year/1"> </div></div>
<div class="section" id="leap-year-1">
<span id="iso8601-0-leap-year-1"></span><span id="index-7"></span><h3><code class="docutils literal notranslate"><span class="pre">leap_year/1</span></code><a class="headerlink" href="#leap-year-1" title="Permalink to this headline">¶</a></h3>
<p>Succeed if given year is a leap year in the Gregorian calendar.</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">leap_year(Year)</span></code><ul>
<li><code class="docutils literal notranslate"><span class="pre">Year</span></code> - The Gregorian calendar year to investigate. If free, it binds to the system year</li>
</ul>
</li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(?integer)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>No, the prior centenary was not a leap year<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(1900)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">no</span></code></li>
</ul>
</li>
<li>The recent millenium<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(2000)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
<li>This year<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(Year)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2004</span></code></li>
</ul>
</li>
<li>This year (equivalent to prior query)<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(_)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
<li>Next centennial<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(2100)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">no</span></code></li>
</ul>
</li>
<li>Year 0, equivalent to 1 BC<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(0)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
<li>1 BC<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(-1)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
<li>4 BC<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(-4)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">no</span></code></li>
</ul>
</li>
<li>5 BC<ul>
<li><code class="docutils literal notranslate"><span class="pre">leap_year(-5)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">yes</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="calendar_month/3"> </div></div>
<div class="section" id="calendar-month-3">
<span id="iso8601-0-calendar-month-3"></span><span id="index-8"></span><h3><code class="docutils literal notranslate"><span class="pre">calendar_month/3</span></code><a class="headerlink" href="#calendar-month-3" title="Permalink to this headline">¶</a></h3>
<p>Compute a calendar month.</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">calendar_month(Year,Month,Calendar)</span></code><ul>
<li><code class="docutils literal notranslate"><span class="pre">Year</span></code> - The calendar year</li>
<li><code class="docutils literal notranslate"><span class="pre">Month</span></code> - The calendar month</li>
<li><code class="docutils literal notranslate"><span class="pre">Calendar</span></code> - A compound term, m/3, composed of three main arguments specifying year, month, and a list of week and week day numbers (calendar body).</li>
</ul>
</li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">calendar_month(?integer,?integer,-compound)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>Compute the calendar of March, 2005<ul>
<li><code class="docutils literal notranslate"><span class="pre">calendar_month(2005,3,Calendar)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Calendar=m(2005,3,[w(9,[0,1,2,3,4,5,6]),w(10,[7,8,9,10,11,12,13]),w(11,[14,15,16,17,18,19,20]),w(12,[21,22,23,24,25,26,27]),w(13,[28,29,30,31,0,0,0]),w(0,[0,0,0,0,0,0,0])])</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div id="easter_day/3"> </div></div>
<div class="section" id="easter-day-3">
<span id="iso8601-0-easter-day-3"></span><span id="index-9"></span><h3><code class="docutils literal notranslate"><span class="pre">easter_day/3</span></code><a class="headerlink" href="#easter-day-3" title="Permalink to this headline">¶</a></h3>
<p>Compute a Gregorian Easter Sunday.</p>
<ul class="simple">
<li>compilation flags: <code class="docutils literal notranslate"><span class="pre">static</span></code></li>
<li>template: <code class="docutils literal notranslate"><span class="pre">easter_day(Year,Month,Day)</span></code><ul>
<li><code class="docutils literal notranslate"><span class="pre">Year</span></code> - Integer specifying the year to be investigated</li>
<li><code class="docutils literal notranslate"><span class="pre">Month</span></code> - Month in which Easter Sunday falls for given year</li>
<li><code class="docutils literal notranslate"><span class="pre">Day</span></code> - Day of month in which Easter Sunday falls for given year</li>
</ul>
</li>
<li>mode - number of proofs:<ul>
<li><code class="docutils literal notranslate"><span class="pre">easter_day(?integer,-integer,-integer)</span></code> - <code class="docutils literal notranslate"><span class="pre">zero_or_one</span></code></li>
</ul>
</li>
<li>examples:<ul>
<li>Compute Easter Sunday for a particular year<ul>
<li><code class="docutils literal notranslate"><span class="pre">easter_day(2006,Month,Day)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Month=4,Day=16</span></code></li>
</ul>
</li>
<li>Compute Easter Sunday for the current year<ul>
<li><code class="docutils literal notranslate"><span class="pre">easter_day(Year,Month,Day)</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">Year=2005,Month=3,Day=27</span></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="protected-interface">
<h2>Protected interface<a class="headerlink" href="#protected-interface" title="Permalink to this headline">¶</a></h2>
<p>(none)</p>
</div>
<div class="section" id="private-predicates">
<h2>Private predicates<a class="headerlink" href="#private-predicates" title="Permalink to this headline">¶</a></h2>
<p>(none)</p>
</div>
<div class="section" id="operators">
<h2>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h2>
<p>(none)</p>
</div>
<div class="section" id="remarks">
<h2>Remarks<a class="headerlink" href="#remarks" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Scope</strong>: This object currently provides a powerful, versatile and efficient set of date-handling predicates, which–thanks to Logtalk–may be used as is on a wide range of Prolog compilers. Besides taking time to familiarize oneself with each predicate, the user should take note of the following information.</li>
<li><strong>Validation of dates</strong>: Date parts are not validated–that is the caller’s responsibility! However, not being quite heartless yet, we do provide a predicate for this purpose.</li>
<li><strong>Date arithmetic</strong>: Many of the examples illustrate a simplified method of doing date arithmetic. Note, however, that we do not generally recommend this practice–it is all too easy to make mistakes. The safest way of finding the day difference between two dates is to first convert the dates to their Julian day numbers and then subtract one from the other. Similarly, the safe way to add or subtract a day offset to a particular date is to first convert the date to its Julian day number, add or subtract the day offset, and then convert the result to its corresponding date.</li>
<li><strong>BC years</strong>: ISO 8601 specifies that the Gregorian calendar be used, yet requires that years prior to 1 AD be handled arithmetically, i.e., the year we know as 1 BC is year 0, 2 BC is year -1, 3 BC is year -2 and so on. We do not follow ISO 8601 with regard to the handling of BC years. Our date predicates will accept and interpret an input year 0 as 1 BC; however, a negative year, Year, should always be interpreted as abs(Year) =:= Year BC. We believe that the average person will find our handling of BC years more user-friendly than the ISO 8601 one, but we encourage feedback from users with a view to a possible change in future versions.</li>
<li><strong>Week numbers</strong>: It is possible for a day (date) to have a week number that belongs to another year. Up to three of the first days of a calendar year may belong to the last week (number) of the prior calendar year, and up to three days of the last days of a calendar year may belong to the first week (number) of the next calendar year. It for this reason that the Week parameter in date/6-7 is a compound term, namely week(WeekNo,ActualYear).</li>
<li><strong>Computation of Gregorian Easter Sunday</strong>: The algorithm is based upon the “Gaussian rule”. Proleptic use is limited to years &gt; 1582 AD, that is, after the introduction of the Gregorian calendar.</li>
<li><strong>Some Christian feast day offsets from Easter Sunday</strong>: Carnival Monday: -48 days, Mardi Gras (Shrove Tuesday): -47 days, Ash Wednesday: -46 days, Palm Sunday: -7 days, Easter Friday: -2 days, Easter Saturday: -1 day, Easter Monday: +1 day, Ascension of Christ: +39 days, Whitsunday: +49 days, Whitmonday: +50 days, Feast of Corpus Christi: +60 days.</li>
</ul>
</div>
<div class="section" id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p>(none)</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lgtdoc_0.html" class="btn btn-neutral float-right" title="lgtdoc" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="help_0.html" class="btn btn-neutral" title="help" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Paulo Moura
      Last updated on Oct 08, 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>