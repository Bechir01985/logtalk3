<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<!--
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  This file is part of Logtalk <https://logtalk.org/>    
%  Copyright 1998-2018 Paulo Moura <pmoura@logtalk.org>
%
%  Licensed under the Apache License, Version 2.0 (the "License");
%  you may not use this file except in compliance with the License.
%  You may obtain a copy of the License at
%
%      http://www.apache.org/licenses/LICENSE-2.0
%
%  Unless required by applicable law or agreed to in writing, software
%  distributed under the License is distributed on an "AS IS" BASIS,
%  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
%  See the License for the specific language governing permissions and
%  limitations under the License.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
	<meta http-equiv="content-type" content="application/xml+xhtml; charset=utf-8" />
	<title>Logtalk built-in method: bagof/3</title>
	<link rel="stylesheet" href="../../screen.css" type="text/css" media="screen"/>
	<link rel="stylesheet" href="../../print.css" type="text/css" media="print"/>
</head>

<body>

<div class="top-left">Logtalk reference manual</div>
<div class="top-right">Built-in method: bagof/3</div>
<div class="bottom-left"><span class="page"/></div>
<div class="bottom-right"><span class="page"/></div>
<div class="navtop"><a href="../../index.html">Contents</a> &gt; <a href="../index.html">Reference Manual</a> &gt; <a href="../index.html#methods">Built-in Methods</a> &gt; bagof/3</div>

<h2 id="methods_bagof_3" class="codenp">bagof/3</h2>

<h4>Description</h4>

<pre>bagof(Template, Goal, List)</pre>
<p>
Collects a bag of solutions for the goal for each set of instantiations of the free variables in the goal. The order of the elements in the bag follows the order of the goal solutions. The free variables in the goal are the variables that occur in the goal but not in the template. Free variables can be ignored, however, by using the <code>^/2</code> existential qualifier. For example, if <code>T</code> is term containing all the free variables that we want to ignore, we can write <code>T^Goal</code>. Note that the term <code>T</code> can be written as <code>V1^V2^...</code>.
</p>
<p>
When there are free variables, this method is re-executable on backtracking. This method fails when there are no solutions, never returning an empty list.
</p>
<p>
This built-in meta-predicate is declared as a private method and thus cannot be used as a message to an object.
</p>

<h4>Template and modes</h4>

<pre>bagof(@term, +callable, -list)</pre>

<h4>Errors</h4>

<dl>
	<dt>Goal is a variable:</dt>
		<dd><code>instantiation_error</code></dd>
	<dt>Goal is neither a variable nor a callable term:</dt>
		<dd><code>type_error(callable, Goal)</code></dd>
	<dt>Goal is a call to a non-existing predicate:</dt>
		<dd><code>existence_error(procedure, Predicate)</code></dd>
</dl>

<h4>Examples</h4>

<dl>
	<dt>To find a bag of solutions in the context of the object or category containing the call:</dt>
		<dd><code>bagof(Template, Goal, List)</code></dd>
	<dt>To find a bag of solutions of sending a message to <em><a class="glossary" title="Go to glossary definition" href="../../glossary.html#self">self</a></em>:</dt>
		<dd><code>bagof(Template, ::Message, List)</code></dd>
	<dt>To find a bag of solutions of sending a message to an explicit object:</dt>
		<dd><code>bagof(Template, Object::Message, List)</code></dd>
</dl>

<h4>See also</h4>

<p>
<code><a href="findall_3.html">findall/3</a></code>, <code><a href="findall_4.html">findall/4</a></code>, <code><a href="forall_2.html">forall/2</a></code>, <code><a href="setof_3.html">setof/3</a></code>
</p>

<div class="footer">
	<div class="copyright">
		<span>Copyright &copy; <a href="mailto:pmoura@logtalk.org">Paulo Moura</a> &mdash; <a href="https://logtalk.org">Logtalk.org</a></span><br/>
		<span>Last updated on: July 13, 2016</span>
	</div>
	<div class="navbottom">
		<span><a href="../index.html#methods">previous</a> | <a href="../../glossary.html">glossary</a> | <a href="findall_3.html">next</a></span><br/>
		<span><a href="http://validator.w3.org/check/referer">XHTML</a> + <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a></span>
	</div>
</div>

</body>

</html>
